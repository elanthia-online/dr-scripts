
def run_wait_script(script, var1)
    start_script "#{script}", ["#{var1}"] if var1 !~ /xx/
    start_script "#{script}" if var1 =~ /xx/
    sleep 1
    wait_while { running?("#{script}")}
    waitrt?
    sleep 1
end


DRC.bput('release all', 'You')
DRC.bput('prep rog 9', 'With a|You begin|^You trace')
pause 26
DRC.bput('cast', "Your spell|You release|You project")

run_wait_script('buff', 'research')